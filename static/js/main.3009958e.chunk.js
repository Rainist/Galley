(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,a,t){e.exports=t(788)},788:function(e,a,t){"use strict";t.r(a);var n=t(254),r=t(0),c=t.n(r),l=t(808),o=t(816),i=t(815),m=function(e){return c.a.createElement(o.a,{tag:"footer",align:"center",pad:"small",background:"dark-1"},c.a.createElement("p",null,"Built with"," ",c.a.createElement("span",{role:"img","aria-label":"heart"},"\u2764\ufe0f")," ","by"," ",c.a.createElement(i.a,{color:"white",href:"https://rainist.com",target:"_blank"},"Rainist"),"!"))},u=t(23),s=t(24),p=t(26),h=t(25),f=t(27),g=t(814),E="env-mapping";function v(){return"#/"===window.location.hash?"#/".concat(E):window.location.hash}var d=function(e){return"#/".concat(e)===v()?"white":"#2A639B"},b=function(e){return"#/".concat(e)===v()?"#2A639B":"white"},C=function(e){function a(){return Object(u.a)(this,a),Object(p.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=b(E),a=d(E),t=b("file-cm"),n=d("file-cm");return c.a.createElement(o.a,{direction:"column",fill:!0,background:"#2A639B",pad:{horizontal:"small"}},c.a.createElement(o.a,{tag:"header",pad:"medium",justify:"between"},c.a.createElement(g.a,{size:"large",weight:"bold"},"Recipes")),c.a.createElement(o.a,{flex:"grow",direction:"column",justify:"start"},c.a.createElement(o.a,{pad:"small",background:a},c.a.createElement(i.a,{color:e,href:"#/env-mapping"},"Env Mapping")),c.a.createElement(o.a,{pad:"small",background:n},c.a.createElement(i.a,{color:t,href:"#/file-cm"},"File Configmap")),c.a.createElement(o.a,{pad:"small"},c.a.createElement(i.a,{color:"white",href:"https://github.com/rainist/galley/issues/new",target:"_blank"},"want more?"))),c.a.createElement(o.a,{tag:"footer",pad:"medium"}))}}]),a}(r.Component),w=t(32),y=t(83),j=t(21),O=t(813),k=t(804),x=t(810),F=t(806),S=t(811),N=t(1),T=t(807),A=t(802),z=t(248),M=t(812),B=t(809),D=function(e){var a=e.show?e.children:null;return c.a.createElement(r.Fragment,null,a)},R=t(82),W=t(249),I=t(801),J=function(e){var a=e.onCopy||function(e){return console.log(e)};return c.a.createElement(z.CopyToClipboard,{text:e.copyText,onCopy:a},c.a.createElement(M.a,{id:e.id,icon:c.a.createElement(I.a,null)}))},P=function(e){var a=e.format,t=e.codeText,n=_(a,t);return c.a.createElement(T.a,{language:a,style:A.a},n)},_=function(e,a){var t,n="json"===e;if(0===a.length)return"";if(!n)return a;try{return t=Object(W.safeLoad)(a),JSON.stringify(t,null,2)}catch(r){return"failed to transform from yaml to json"}},G=0;var L=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={showCopied:!1},t.onCopy=function(){t.setState({showCopied:!0}),Object(R.setTimeout)(function(){t.setState({showCopied:!1})},800)},t}return Object(f.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.state,a=this.props,t=a.codeText,n=a.format,r="tip-target-uniq-".concat(++G),l=this.onCopy,i=_(n,t),m=c.a.createElement(o.a,{direction:"row",align:"center"},c.a.createElement(o.a,{flex:!0},c.a.createElement(g.a,{uppercase:!0,margin:"none"}," ",a.title," ")),c.a.createElement(o.a,null,c.a.createElement(J,{id:r,copyText:i,onCopy:l})));return c.a.createElement(o.a,{align:"center",margin:"small"},c.a.createElement(o.a,{tag:"header"},m),c.a.createElement(o.a,null,c.a.createElement(P,{codeText:t,format:n})),c.a.createElement(D,{show:e.showCopied},c.a.createElement(B.a,null,"Copied to Clipboard")))}}]),a}(r.Component),$=t(40),q=t(817),U=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).onChangeName=function(e){var a=e.target.value,n=Object($.a)(t).props,r=n.value.env;(0,n.onChange)({env:r,name:a})},t.onChangeEnv=function(e){var a=e.target.value,n=Object($.a)(t).props,r=n.value.name;(0,n.onChange)({env:a,name:r})},t}return Object(f.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.value,t=e.placeholder,n=a.name,r=a.env;return c.a.createElement(o.a,null,c.a.createElement(k.a,null,c.a.createElement(o.a,{tag:"header"},c.a.createElement(g.a,{size:"large",weight:"bold"},j.capitalize(e.type))),c.a.createElement(o.a,{background:"#FCFCFC"},c.a.createElement(x.a,{label:"name for ".concat(e.type),htmlFor:"ti-name-".concat(t.name)},c.a.createElement(F.a,{id:"ti-name-".concat(t.name),placeholder:t.name,onChange:this.onChangeName,value:n}))),c.a.createElement(o.a,{background:"#FCFCFC"},c.a.createElement(x.a,{label:"env for ".concat(e.type),htmlFor:"ti-env-".concat(t.name)},c.a.createElement(q.a,{background:"#F3F7F2",id:"ti-env-".concat(t.name),border:!1,rows:10,placeholder:t.env,onChange:this.onChangeEnv,value:r})))))}}]),a}(r.Component),V=t(121),H=t.n(V),K=t(86),Q=K.envMapper.generate,X=new H.a.Subject,Y=(new H.a.Subject).sampleTime(100);Y.subscribe(function(e){var a=e.namespace,t=e.cm,n=t.name,r=t.env,c=e.secret,l=c.name,o=c.env;!function(e){var a=e.cm,t=e.secret,n=e.envSnippet,r=e.errMsg,c={cm:a,secret:t,env:n};r&&(console.error(r),c={cm:r,secret:r,env:r}),X.next(c)}(Q({namespace:a,cmName:n,cmEnv:r,secretName:l,secretEnv:o}))});var Z=function(e){Y.next(e)};function ee(e,a){return j.isObject(e)?j.mergeWith(e,a,ee):e||a}function ae(){var e=Object(y.a)(["\n  padding: 0.5em 3em 0 3em;\n"]);return ae=function(){return e},e}var te=N.default.div(ae()),ne={namespace:"my-namespace",cm:{name:"new-cm",env:"key=value\nkey2=value2"},secret:{name:"new-secret",env:"key=value\nkey2=value2"}},re={name:"",env:""},ce={namespace:"",cm:Object(w.a)({},re),secret:Object(w.a)({},re)},le=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={input:ce,output:{},format:"yaml"},t.calculate=function(){var e=t.state.input,a=j.mergeWith(j.cloneDeep(e),ne,ee);Z(a)},t.onChangeNS=function(e){var a=e.target.value,n=Object(w.a)({},t.state.input,{namespace:a});t.setState({input:n},function(){return t.calculate()})},t.onChangeCm=function(e){var a=Object(w.a)({},t.state.input,{cm:e});t.setState({input:a},function(){return t.calculate()})},t.onChangeSecret=function(e){var a=Object(w.a)({},t.state.input,{secret:e});t.setState({input:a},function(){return t.calculate()})},t.setFormat=function(e){t.setState({format:e})},t}return Object(f.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.result$=X.subscribe(function(a){var t={cm:a.cm,secret:a.secret,snippet:a.env};e.setState({output:t})}),this.calculate()}},{key:"componentWillUnmount",value:function(){this.result$.unsubscribe()}},{key:"render",value:function(){var e=this,a=this.state,t=a.input,n=a.output,r=a.format,l=ne;return c.a.createElement(o.a,null,c.a.createElement(o.a,null,c.a.createElement(te,null,c.a.createElement(o.a,{tag:"header",align:"center",direction:"row-responsive"},c.a.createElement(o.a,null,c.a.createElement(O.a,{align:"start"},"Env mapping")),c.a.createElement(o.a,{flex:"grow"}),c.a.createElement(o.a,{background:"#FCFCFC"},c.a.createElement(k.a,null,c.a.createElement(x.a,{label:"namespace"},c.a.createElement(F.a,{placeholder:l.namespace,onChange:this.onChangeNS,value:t.namespace}))))))),c.a.createElement(o.a,{direction:"row-responsive",gap:"small"},c.a.createElement(o.a,{fill:!0},c.a.createElement(U,{type:"configmap",placeholder:l.cm,onChange:this.onChangeCm,value:t.cm})),c.a.createElement(o.a,{fill:!0},c.a.createElement(U,{type:"secret",placeholder:l.secret,onChange:this.onChangeSecret,value:t.secret}))),c.a.createElement(o.a,{flex:"grow",direction:"row",align:"center"},c.a.createElement(o.a,{tag:"header"},c.a.createElement(g.a,{size:"large",weight:"bold"},"Output")),c.a.createElement(o.a,{pad:"medium"},c.a.createElement(S.a,{direction:"row",name:"format",options:["yaml","json"],value:r,onChange:function(a){return e.setFormat(a.target.value)}}))),c.a.createElement(o.a,{direction:"row-responsive"},c.a.createElement(o.a,{fill:!0},c.a.createElement(L,{format:r,title:"CONFIGMAP",codeText:n.cm||""})),c.a.createElement(o.a,{fill:!0},c.a.createElement(L,{format:r,title:"SECRET",codeText:n.secret||""})),c.a.createElement(o.a,{fill:!0},c.a.createElement(L,{format:r,title:"ENV SNIPPET",codeText:n.snippet||""}))))}}]),a}(r.Component),oe=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).onChangeName=function(e){var a=e.target.value,n=Object($.a)(t).props,r=n.value.content;(0,n.onChange)({content:r,name:a})},t.onChangeContent=function(e){var a=e.target.value,n=Object($.a)(t).props,r=n.value.name;(0,n.onChange)({content:a,name:r})},t}return Object(f.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.value,t=e.placeholder,n=a.name,r=a.content;return c.a.createElement(o.a,{fill:!0},c.a.createElement(k.a,null,c.a.createElement(o.a,{tag:"header"},c.a.createElement(g.a,{size:"large",weight:"bold"},j.capitalize(e.type))),c.a.createElement(o.a,{flex:"grow",background:"#FCFCFC"},c.a.createElement(o.a,{fill:!0},c.a.createElement(x.a,{label:"name for ".concat(e.type)},c.a.createElement(F.a,{placeholder:t.name,onChange:this.onChangeName,value:n}))),c.a.createElement(o.a,null,c.a.createElement(x.a,{label:"content for ".concat(e.type)},c.a.createElement(q.a,{rows:10,placeholder:t.content,onChange:this.onChangeContent,value:r}))))))}}]),a}(r.Component);function ie(){var e=Object(y.a)(["\n  padding: 0.5em 3em 0 3em;\n"]);return ie=function(){return e},e}var me={placeholder:{namespace:"my-namespace",name:"new-cm",file:{name:"file.txt",content:"write something here"}}},ue={name:"",namespace:"",file:{name:"",content:""}},se=N.default.div(ie()),pe=function(e){var a=e.placeholder,t=e.onChange,n=e.value,r=e.label;return c.a.createElement(x.a,{label:r},c.a.createElement(F.a,{placeholder:a,onChange:t,value:n}))},he=function(e){function a(){var e,t;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={input:ue,output:""},t.calculate=function(){var e=t.state.input,a=me.placeholder,n=j.mergeWith(j.cloneDeep(e),a,ee),r=n.name,c=n.namespace,l=n.file,o=function(e,a,t,n){return K.fileCM.generate({name:e,namespace:a,filename:t,filecontent:n})}(r,c,l.name,l.content);t.setState({output:o})},t.onChangeName=function(e){var a=e.target.value,n=Object(w.a)({},t.state.input,{name:a});t.setState({input:n},function(){return t.calculate()})},t.onChangeNS=function(e){var a=e.target.value,n=Object(w.a)({},t.state.input,{namespace:a});t.setState({input:n},function(){return t.calculate()})},t.onChangeFile=function(e){var a=Object(w.a)({},t.state.input,{file:e});t.setState({input:a},function(){return t.calculate()})},t}return Object(f.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.calculate()}},{key:"render",value:function(){var e=this.state,a=e.input,t=e.output,n=me.placeholder;return c.a.createElement(o.a,null,c.a.createElement(o.a,{direction:"row-responsive"},c.a.createElement(o.a,{tag:"header",align:"center"},c.a.createElement(se,null,c.a.createElement(O.a,{align:"start"},"File Configmap"))),c.a.createElement(o.a,{flex:"grow"}),c.a.createElement(o.a,null,c.a.createElement(k.a,null,c.a.createElement(pe,{label:"name",placeholder:n.name,onChange:this.onChangeName,value:a.name}),c.a.createElement(pe,{label:"namespace",placeholder:n.namespace,onChange:this.onChangeNS,value:a.namespace})))),c.a.createElement(o.a,{direction:"row-responsive"},c.a.createElement(o.a,{flex:"grow"},c.a.createElement(oe,{type:"file",placeholder:n.file,onChange:this.onChangeFile,value:a.file})),c.a.createElement(o.a,{pad:"medium"},c.a.createElement(L,{title:"configmap",codeText:t||""}))))}}]),a}(r.Component),fe=t(41),ge=function(e){return c.a.createElement(o.a,{direction:"row-responsive",flex:"grow"},c.a.createElement(o.a,{gridArea:"nav"},c.a.createElement(fe.a,{component:C})),c.a.createElement(o.a,{gridArea:"main",pad:"medium",fill:!0},c.a.createElement(fe.a,{exact:!0,path:"/",component:le}),c.a.createElement(fe.a,{exact:!0,path:"/env-mapping",component:le}),c.a.createElement(fe.a,{exact:!0,path:"/file-cm",component:he})))},Ee=t(805),ve=function(e){return c.a.createElement(o.a,{tag:"header",direction:"row",justify:"between",size:"large",pad:{horizontal:"medium"},align:"center"},c.a.createElement(o.a,null,c.a.createElement(g.a,{size:"large",weight:"bold"},c.a.createElement(i.a,{path:{path:"/",index:!0}},"Galley"))),c.a.createElement(o.a,{flex:"grow",justify:"start",pad:{horizontal:"large"}},"A kitchen to cook k8s objects"),c.a.createElement(o.a,null,c.a.createElement(i.a,{href:"https://github.com/Rainist/galley",className:"active",target:"_blank",icon:c.a.createElement(Ee.a,null)})))},de=function(e){return c.a.createElement(l.a,{theme:n.a,full:!0},c.a.createElement(o.a,{fill:!0},c.a.createElement(o.a,{flex:"grow"},c.a.createElement(o.a,null,c.a.createElement(ve,null)),c.a.createElement(o.a,{flex:!0},c.a.createElement(ge,null)),c.a.createElement(o.a,null,c.a.createElement(m,null)))))},be=t(31),Ce=t.n(be),we=t(115),ye=document.getElementById("root");Ce.a.render(c.a.createElement(we.a,null,c.a.createElement(de,null)),ye),document.body.classList.remove("loading")}},[[258,1,2]]]);
//# sourceMappingURL=main.3009958e.chunk.js.map